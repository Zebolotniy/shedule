<!doctype html>
<html lang="ru">
<head>
  <!-- <link rel="apple-touch-icon" sizes="57x57" href="img/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="img/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="img/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="img/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="img/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="img/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="img/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="img/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="img/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="img/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
  <link rel="manifest" href="manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="application-name" content="Расписание">
  <meta name="apple-mobile-web-app-title" content="Расписание">
  <meta name="msapplication-starturl" content="/">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="img/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff"> -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Расписание РТУ МИРЭА</title>
  <link rel="stylesheet" href="shedule.css" />
</head>
<body>
  <div class="iface-centered">
    <div class="shedule-bg">
      <div class="head">
        <div class="head-menu">
          <form class="head-menu-title" id="menu">
            <img src="img/Group 5.png" style="scale: .7;">
            <div>Меню</div>
          </form>
          <form class="head-menu-list" id="menu-list">
            <button class="list-item" id="op-chsum" onclick="class_menu.openChsum()">checksum</button>
          </form>
        </div>
        <div class="head-title">Расписание РТУ МИРЭА группа КББО-01-20</div>
        <div></div>
      </div>
      <div class="shedule">
        <div class="shedule-head">
          <div class="arrow_a"><img src="img/Arrow 2.png"></div>
          <div id="date">1 неделя 11.11.2022-22.12.2022</div>
          <div class="arrow_b"><img src="img/Arrow 2.png"></div>
        </div>
        <div class="shedule-table">
          <div id="monday">
            <div class="shedule-day">
              <!-- <a href="#mnd">Понедельник</a> -->
              <div>Понедельник</div>
            </div>
            <div class="shedule-list" style="display: none;">
              <div class="shedule-value val_col">
                <div>Пара</div>
                <div>Время</div>
                <div>Нед.</div>
                <div>Вид</div>
                <div>Предмет</div>
                <div>Преподаватель</div>
                <div>Аудитория</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">1</div>
                <div class="val-row">9:00-10:30</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">2</div>
                <div class="val-row">10:40-12:10</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">3</div>
                <div class="val-row">12:40-14:10</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">4</div>
                <div class="val-row">14:20-15:50</div>
                <div>I</div>
                <div>ЛК</div>
                <div>Автоматизация биомедицинских исследований</div>
                <div>Баландин В.А.</div>
                <div>А-7</div>
                <div>II</div>
                <div>ЛК</div>
                <div>Автоматизация биомедицинских исследований</div>
                <div>Баландин В.А.</div>
                <div>А-7</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">5</div>
                <div class="val-row">16:20-17:50</div>
                <div>I</div>
                <div>ЛК</div>
                <div>Основы планирования  физических воздействий на организм человека</div>
                <div>Коконцев Д.А.</div>
                <div>А-181</div>
                <div>II</div>
                <div>ЛК</div>
                <div>Основы планирования  физических воздействий на организм человека</div>
                <div>Коконцев Д.А.</div>
                <div>А-181</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">6</div>
                <div class="val-row">18:00-19:30</div>
                <div>I</div>
                <div>ПР</div>
                <div>кр. 1 н. Автоматизация биомедицинских исследований</div>
                <div>Тикунова К.В.</div>
                <div>Г-320</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
            </div>
          </div>
          <div id="tuesday">
            <div class="shedule-day">
              <!-- <a href="#tsd">Вторник</a> -->
              <div>Вторник</div>
            </div>
            <div class="shedule-list" style="display: none;">
              <div class="shedule-value val_col">
                <div>Пара</div>
                <div>Время</div>
                <div>Нед.</div>
                <div>Вид</div>
                <div>Предмет</div>
                <div>Преподаватель</div>
                <div>Аудитория</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">1</div>
                <div class="val-row">9:00-10:30</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">2</div>
                <div class="val-row">10:40-12:10</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">3</div>
                <div class="val-row">12:40-14:10</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">4</div>
                <div class="val-row">14:20-15:50</div>
                <div>I</div>
                <div>ЛК</div>
                <div>Методы обработки и анализа биомедицинских сигналов</div>
                <div>Баландин В.А.</div>
                <div>А-2</div>
                <div>II</div>
                <div>ЛК</div>
                <div>Методы обработки и анализа биомедицинских сигналов</div>
                <div>Баландин В.А.</div>
                <div>А-2</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">5</div>
                <div class="val-row">16:20-17:50</div>
                <div>I</div>
                <div>ПР</div>
                <div>Основы планирования  физических воздействий на организм человека</div>
                <div>Коконцев Д.А.</div>
                <div>Г-322-в</div>
                <div>II</div>
                <div>ПР</div>
                <div>Основы планирования  физических воздействий на организм человека</div>
                <div>Коконцев Д.А.</div>
                <div>Г-322-в</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">6</div>
                <div class="val-row">18:00-19:30</div>
                <div>I</div>
                <div>ПР</div>
                <div>Методы обработки и анализа биомедицинских сигналов</div>
                <div>Баландин В.А.</div>
                <div>Г-320</div>
                <div>II</div>
                <div>ПР</div>
                <div>Методы обработки и анализа биомедицинских сигналов</div>
                <div>Баландин В.А.</div>
                <div>Г-320</div>
              </div>
            </div>
          </div>
          <div id="wednesday">
            <div class="shedule-day">
              <!-- <a href="#wdd">Среда</a> -->
              <div>Среда</div>
            </div>
            <div class="shedule-list" style="display: none;">
              <div class="shedule-value val_col">
                <div>Пара</div>
                <div>Время</div>
                <div>Нед.</div>
                <div>Вид</div>
                <div>Предмет</div>
                <div>Преподаватель</div>
                <div>Аудитория</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">1</div>
                <div class="val-row">9:00-10:30</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">2</div>
                <div class="val-row">10:40-12:10</div>
                <div>I</div>
                <div>ЛК</div>
                <div>Основы конструирования приборов и изделий медицинского назначения</div>
                <div>Макаров В.Н.</div>
                <div>А-7</div>
                <div>II</div>
                <div>ЛК</div>
                <div>Основы конструирования приборов и изделий медицинского назначения</div>
                <div>Макаров В.Н.</div>
                <div>А-7</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">3</div>
                <div class="val-row">12:40-14:10</div>
                <div>I</div>
                <div>ЛК</div>
                <div>Биомеханика</div>
                <div>Гольцов А.Н.</div>
                <div>А-2</div>
                <div>II</div>
                <div>ЛК</div>
                <div>Биомеханика</div>
                <div>Гольцов А.Н.</div>
                <div>А-2</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">4</div>
                <div class="val-row">14:20-15:50</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">5</div>
                <div class="val-row">16:20-17:50</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">6</div>
                <div class="val-row">18:00-19:30</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
            </div>
          </div>
          <div id="thursday">
            <div class="shedule-day">
              <!-- <a href="#thd">Четверг</a> -->
              <div>Четверг</div>
            </div>
            <div class="shedule-list" style="display: none;">
              <div class="shedule-value val_col">
                <div>Пара</div>
                <div>Время</div>
                <div>Нед.</div>
                <div>Вид</div>
                <div>Предмет</div>
                <div>Преподаватель</div>
                <div>Аудитория</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">1</div>
                <div class="val-row">9:00-10:30</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">2</div>
                <div class="val-row">10:40-12:10</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">3</div>
                <div class="val-row">12:40-14:10</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">4</div>
                <div class="val-row">14:20-15:50</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">5</div>
                <div class="val-row">16:20-17:50</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>ЛК</div>
                <div>Безопасность жизнедеятельности</div>
                <div>Михайлов В.М.</div>
                <div>СДО</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">6</div>
                <div class="val-row">18:00-19:30</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>ЛК</div>
                <div>Основы антикоррупционной деятельности</div>
                <div>Родюкова Т.Н.</div>
                <div>СДО</div>
              </div>
            </div>
          </div>
          <div id="friday">
            <div class="shedule-day">
              <!-- <a>Пятница</a> -->
              <div>Пятница</div>
            </div>
            <div class="shedule-list" style="display: none;">
              <div class="shedule-value val_col">
                <div>Пара</div>
                <div>Время</div>
                <div>Нед.</div>
                <div>Вид</div>
                <div>Предмет</div>
                <div>Преподаватель</div>
                <div>Аудитория</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">1</div>
                <div class="val-row">9:00-10:30</div>
                <div>I</div>
                <div>ЛК</div>
                <div>Узлы и элементы биотехнических систем</div>
                <div>Семеренко Д.А.</div>
                <div>А-2</div>
                <div>II</div>
                <div>ЛК</div>
                <div>Узлы и элементы биотехнических систем</div>
                <div>Семеренко Д.А.</div>
                <div>А-2</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">2</div>
                <div class="val-row">10:40-12:10</div>
                <div>I</div>
                <div>ПР</div>
                <div>Узлы и элементы биотехнических систем</div>
                <div>Семеренко Д.А.</div>
                <div>Г-322-в</div>
                <div>II</div>
                <div>ПР</div>
                <div>Узлы и элементы биотехнических систем</div>
                <div>Семеренко Д.А.</div>
                <div>Г-322-в</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">3</div>
                <div class="val-row">12:40-14:10</div>
                <div>I</div>
                <div>ПР</div>
                <div>Биомеханика</div>
                <div>Гольцов А.Н.</div>
                <div>Г-322-б</div>
                <div>II</div>
                <div>ПР</div>
                <div>Биомеханика</div>
                <div>Гольцов А.Н.</div>
                <div>Г-322-б</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">4</div>
                <div class="val-row">14:20-15:50</div>
                <div>I</div>
                <div>ЛК</div>
                <div>Технические методы диагностических исследований и лечебных воздействий</div>
                <div>Дубцов А.В.</div>
                <div>А-7</div>
                <div>II</div>
                <div>ЛК</div>
                <div>Технические методы диагностических исследований и лечебных воздействий</div>
                <div>Дубцов А.В.</div>
                <div>А-7</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">5</div>
                <div class="val-row">16:20-17:50</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>ПР</div>
                <div>Технические методы диагностических исследований и лечебных воздействий</div>
                <div>Дубцов А.В.</div>
                <div>Г-320</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">6</div>
                <div class="val-row">18:00-19:30</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">7</div>
                <div class="val-row">19:40-21:10</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
            </div>
          </div>
          <div id="saturday">
            <div class="shedule-day">
              <!-- <a href="#std">Суббота</a> -->
              <div>Суббота</div>
            </div>
            <div class="shedule-list" style="display: none;">
              <div class="shedule-value val_col">
                <div>Пара</div>
                <div>Время</div>
                <div>Нед.</div>
                <div>Вид</div>
                <div>Предмет</div>
                <div>Преподаватель</div>
                <div>Аудитория</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">1</div>
                <div class="val-row">9:00-10:30</div>
                <div>I</div>
                <div>ПР</div>
                <div>Основы конструирования приборов и изделий медицинского назначения</div>
                <div>Тикунова К.В.</div>
                <div>Г-322-а</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">2</div>
                <div class="val-row">10:40-12:10</div>
                <div>I</div>
                <div>ПР</div>
                <div>Основы конструирования приборов и изделий медицинского назначения</div>
                <div>Тикунова К.В.</div>
                <div>Г-322-а</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">3</div>
                <div class="val-row">12:40-14:10</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">4</div>
                <div class="val-row">14:20-15:50</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">5</div>
                <div class="val-row">16:20-17:50</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
              <div class="shedule-value">
                <div class="val-row">6</div>
                <div class="val-row">18:00-19:30</div>
                <div>I</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>II</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
                <div>-</div>
              </div>
            </div>
          </div>
        </div>
        <div class="shedule-footer">
          <a href="https://www.mirea.ru/schedule/"><div class="ticket-barcode" id="barcode"></div></a>
          <div class="ticket-code" id="ticket-code"></div>
        </div>
        </div>
      </div>
    </div>
  </div>
  <div class="ext-container" id="ext-cont" style="display: none;">
    <button class="ext-container-close" id="ext-close">
      <img src="img/close.png">
    </button>
    <div class="chsum">
      <div class="chsum-content">
        <div class="chsum-data">
          <input type="text" id="chs-dec" class="chsum-data-val" value="">
          <div class="chsum-data-text">Decimal</div>
        </div>
        <div class="chsum-data">
          <input type="text" id="chs-hex" class="chsum-data-val" value="">
          <div class="chsum-data-text">Hex</div>
        </div>
        <button class="chsum-button" onclick="checksum.dechex()">Конвертировать</button>
      </div>
      <div class="chsum-content">
        <div class="chsum-data">
          <input type="text" id="chs-val" class="chsum-data-val" value="">
          <div class="chsum-data-text">Value</div>
        </div>
        <div class="chsum-data">
          <input type="text" id="chs-sum" class="chsum-data-val" value="">
          <div class="chsum-data-text">Checksum</div>
        </div>
        <button class="chsum-button" onclick="checksum.calcsum()">Вычислить контрольную сумму</button>
      </div>
    </div>
  </div>
  <script>
    var shedule = {
      a : new Date(),
      b : new Date(2022, 7, 28),
      week : 0,
      d : 0,
      d_names : ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday"],
      start : new Date(),
      finish : new Date(),
      setup : function(){
        shedule.a = new Date();
        shedule.a = new Date(shedule.a.getFullYear(), shedule.a.getMonth(), shedule.a.getDate());
        shedule.week = Math.ceil((shedule.a.getTime()-shedule.b.getTime())/1000/3600/24/7);
        if(shedule.a.getDay() == 0){ shedule.d = 7; }
        else{ shedule.d = shedule.a.getDay(); }
        shedule.start = new Date(shedule.a.getFullYear(), 
        shedule.a.getMonth(), shedule.a.getDate()-shedule.d+1);
        shedule.finish = new Date(shedule.a.getFullYear(), 
        shedule.a.getMonth(), shedule.a.getDate()+7-shedule.d);
        shedule.setWeek(shedule.start, shedule.finish);
      },
      setWeek : function(start, finish){
        date.innerHTML = shedule.week + " неделя  " + 
        shedule.start.getDate() + "." + (shedule.start.getMonth() + 1) + 
        "." + shedule.start.getFullYear() +
        "-" + shedule.finish.getDate() + "." + 
        (shedule.finish.getMonth() + 1) + "." + 
        shedule.finish.getFullYear();
      },
      openDay : function(days, dayshedule){
        let k = shedule.d - 1;
        let p = 0;
        if(shedule.d == 7){
          dayshedule[0].style.display = "block";
          location.href = "#" + shedule.d_names[0];
          return;
        }
        let classes = dayshedule[k].getElementsByClassName("shedule-value");
        let fin_h = classes[classes.length-1].getElementsByTagName("div")[1].innerHTML;
        fin_h = fin_h.slice(fin_h.indexOf("-")+1);
        let fin_m = fin_h.slice(fin_h.indexOf(":")+1);
        fin_h = fin_h.slice(0,fin_h.indexOf(":"));
        console.log(fin_h + "-" + fin_m);
        let c_d = new Date();
        if(c_d.getHours() > fin_h || (c_d.getMinutes() > fin_m && c_d.getHours() == fin_h)){
          k = shedule.d;
          if(k > 5){k = 0;}
          console.log(k + " ," + c_d.getHours() + ":" + c_d.getMinutes());
        }
        else{
          k = shedule.d-1;
        }
        dayshedule[k].style.display = "block";
        location.href = "#" + shedule.d_names[k];
      },
      setDays : function(){
        shedule.setup();
        let days = document.getElementsByClassName("shedule-day");
        let dayshedule = document.getElementsByClassName("shedule-list");
        for(let i = 0; i< days.length; i++)
        {
          days[i].addEventListener("click", function(){
            if(dayshedule[i].style.display == "block"){
              dayshedule[i].style.display = "none";
            }
            else{
              dayshedule[i].style.display = "block";
              location.href = "#" + shedule.d_names[i];
            }
          });
        }
        setTimeout(shedule.openDay, 200, days, dayshedule);
      }
    }
    var class_menu = {
      openMenu : function(){
        document.getElementById("menu-list").classList.toggle("menu-list-show");
      },
      closeMenu : function(event){
        if(document.getElementsByClassName("menu-list-show").length > 0)
        {
          if(!(event.target.matches(".list-item") ||
          event.target.matches(".head-menu-title") ||
          event.target.parentElement.matches(".head-menu-title")))
          {
            document.getElementById("menu-list").classList.toggle("menu-list-show");
          }
        }
      },
      openChsum:function(){
        document.getElementById("ext-cont").style.display = "flex";
        location.href = "#ext-cont";
        document.getElementById("ext-close").addEventListener("click", function(){
        document.getElementById("ext-cont").style.display = "none";});
      }
    };
    var checksum = {
      hex:0x0,
      dec:0,
      val:0,
      sum:0,
      dechex : function(){
        checksum.hex = parseInt(document.getElementById("chs-hex").value, 16);
        checksum.dec = parseInt(document.getElementById("chs-dec").value, 10);
        if(isNaN(checksum.dec))
        {
          if(isNaN(checksum.hex))
          {
            document.getElementById("chs-dec").value = 0;
            document.getElementById("chs-hex").value = 0;
            return;
          }
          else
          {
            document.getElementById("chs-dec").value = checksum.hex;
          }
        }
        else
        {
          document.getElementById("chs-hex").value = checksum.dec.toString(16);
          document.getElementById("chs-val").value = checksum.dec.toString(16);
        }
      },
      calcsum : function(){
        checksum.val = parseInt(document.getElementById("chs-val").value, 16);
        checksum.sum = parseInt(document.getElementById("chs-sum").value, 16);
        if(isNaN(checksum.val))
        {
          if(!isNaN(checksum.sum))
          {
            let idx = [];
            let t = checksum.genTable(0xfa0da1);
            let text = 0;
            let b = 3;
            for(let i = 0; i < b; i++)
            {
              for(let j = 0; j < 256; j++)
              {
                if((checksum.sum & 0xFF) == (t[j] & 0xFF))
                {
                  idx.push(j);
                  checksum.sum ^= t[j];
                  checksum.sum >>= 8;
                  break;
                }
              }
            }
            checksum.sum = 0;
            for(let i = b - 1; i >= 0; i--)
            {
              text += (((checksum.sum >> 16) & 0xFF) ^ idx[i]) << (i * 8);
              checksum.sum = ((checksum.sum << 8)&0xFFFFFF) ^ t[idx[i]];
            }
            document.getElementById("chs-dec").value = text;
            document.getElementById("chs-val").value = text.toString(16);
            document.getElementById("chs-hex").value = text.toString(16);
          }
        }
        else
        {
          let t = checksum.genTable(0xfa0da1);
          let reg = 0;
          let s = 0;
          checksum.val = checksum.divideByBytes(checksum.val, 
          Math.ceil(parseInt(checksum.val, 16).toString(16).length / 2));
          for(let i = 0 ; i < checksum.val.length; i++)
          {
            reg = ((reg << 8)&0xFFFFFF) ^ t[checksum.val[i] ^ ((reg >> 16) & 0xFF)];
          }
          document.getElementById("chs-sum").value = reg.toString(16);
        }
        
      },
      genTable:function(poly){
        let W = poly.toString(2).length-1;
        let crc_table = [];
        for(let byte = 0; byte < 256; byte++)
        {
          let operator = byte << (W-8);
          let mask = 1 << (W-1);
          for(let bit = 0; bit < 8; bit++)
          {
            if((operator & mask) != 0)
            {
              operator <<= 1;
              operator ^= poly;
            }
            else
            {
              operator <<= 1;
            }
          }
          crc_table.push(operator);
        }
        return crc_table;
      },
      divideByBytes:function(v,l){
        let val = [];
        for(let pos = l - 1; pos >= 0; pos--)
        {
          val.push((v & (0xff << (8*pos))) >> (8*pos));
        }
        return val;
      }
    }
    window.addEventListener("load", shedule.setDays);
    document.getElementById("menu").addEventListener("click", class_menu.openMenu);
    window.addEventListener("click", class_menu.closeMenu, event);
    document.getElementById("ticket-code").innerHTML="mirea.ru/schedule";
    function genBarcode(){
      for (let i = 0; i<80; i++){
        let bc = document.createElement("div");
        bc.style.width = barcodeItemWidth() + "px";
        document.getElementById("barcode").appendChild(bc);
      }
    }
    function barcodeItemWidth(){
      const t=3*Math.random();
      return t<1?1:t
    }
  </script>
</body>
</html>
